function to_date_map(a){var b=[];if(null!=a&&a.length>0)for(var c=0;c<a.length;c++)bk=a[c],d=bk.day,t=bk.time,null==b[d]&&(b[d]=new Array),b[d].push(t);return b}function setSearchParam(a,b){var c=new RegExp("([?;&])"+a+"[^&;]*[;&]?"),d=window.location.search.replace(c,"$1").replace(/&$/,""),e=(d.length>2?d+"&":"?")+(b?a+"="+b:"");window.location=window.location.pathname+e}function getSearchParam(a){var b=new RegExp("[\\?&]"+a+"=([^&#]*)"),c=b.exec(window.location.search);return null==c?"":c[1]}define(["jquery","jqueryui","amd/src/booking_form.js","amd/src/mybookings_table.js"],function(a,b,c,d){var e=getSearchParam("id"),f=!1;return require.config({urlArgs:"bust="+(new Date).getTime()}),{init:function(b){var g=new c({controllerspath:b,course_id:e,debug:f}),h=new d({controllerspath:b,course_id:e,debug:f,datepicker:g.datepicker,timepicker:g.timepicker});g.attach(h),bookings_list_url=b+"/get_mybookings.php?id="+e,a.getJSON({url:bookings_list_url,success:function(a){var b=Array.from(a["bookings-list"]);g.datepicker.set_bookings_by_date(b),g.datepicker.refresh(),a["bookings-list"].length>0&&h.populate({bookings:a["bookings-list"]})},error:function(a,b,c){}})}}});